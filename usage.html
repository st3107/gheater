

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>How to use the scripts during the beamtime? &mdash; gheater 0+unknown documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release History" href="release-history.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> gheater
          

          
          </a>

          
            
            
              <div class="version">
                0+unknown
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to use the scripts during the beamtime?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preparation">Preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load-the-functions-into-the-namespace">Load the functions into the namespace</a></li>
<li class="toctree-l3"><a class="reference internal" href="#start-save-server">Start save server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#calibration">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#start-the-measurement">Start the measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trouble-shooting-save-server-doesnt-save-images">Trouble shooting: Save server doesn’t save images</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="min_versions.html">Minimum Version of Python and NumPy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gheater</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>How to use the scripts during the beamtime?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-use-the-scripts-during-the-beamtime">
<h1>How to use the scripts during the beamtime?<a class="headerlink" href="#how-to-use-the-scripts-during-the-beamtime" title="Permalink to this headline">¶</a></h1>
<div class="section" id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="load-the-functions-into-the-namespace">
<h3>Load the functions into the namespace<a class="headerlink" href="#load-the-functions-into-the-namespace" title="Permalink to this headline">¶</a></h3>
<p>We need to load the functions into the namespace from the file
<code class="docutils literal notranslate"><span class="pre">plans.py</span></code>. Use the following command and remember to change the path
to the file on your machine:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">run</span> -i &quot;~/PycharmProjects/gheater/gheater/plans.py&quot;
</pre></div>
</div>
</div>
<div class="section" id="start-save-server">
<h3>Start save server<a class="headerlink" href="#start-save-server" title="Permalink to this headline">¶</a></h3>
<p>In your terminal, start the save server. The save server is used to save
the data on a hard disk in files.</p>
<p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">save_server.py</span></code></p>
</div>
</div>
<div class="section" id="calibration">
<h2>Calibration<a class="headerlink" href="#calibration" title="Permalink to this headline">¶</a></h2>
<p>Now, we will run the calibration of the gradient heater. Here, we
compose the plan using <code class="docutils literal notranslate"><span class="pre">multi_calib_scan</span></code>. In this plan, the
diffraction image on the detector <code class="docutils literal notranslate"><span class="pre">pe1c</span></code> will be collected in a line.
The <code class="docutils literal notranslate"><span class="pre">ns.motor1</span></code> will move from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">5</span></code> and the <code class="docutils literal notranslate"><span class="pre">ns.motor2</span></code>
will move from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">0.5</span></code>. In total, <code class="docutils literal notranslate"><span class="pre">6</span></code> evenly spaced points
(including the start and the end) will be collected and the exposure
time at each point is <code class="docutils literal notranslate"><span class="pre">5</span></code> second. The metadata we would like to record
is <code class="docutils literal notranslate"><span class="pre">{&quot;task&quot;:</span> <span class="pre">&quot;calibration&quot;}</span></code> (optional).</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plan</span> <span class="o">=</span> <span class="n">multi_calib_scan</span><span class="p">([</span><span class="n">pe1c</span><span class="p">],</span> <span class="n">ns</span><span class="o">.</span><span class="n">motor1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">ns</span><span class="o">.</span><span class="n">motor2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">exposure</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">md</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">})</span>
<span class="n">xrun</span><span class="p">({},</span> <span class="n">plan</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">No</span> <span class="n">calib_map</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">calibration</span> <span class="n">run</span><span class="o">.</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">requested</span> <span class="n">exposure</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">computed</span> <span class="n">exposure</span> <span class="n">time</span><span class="o">=</span> <span class="mf">5.0</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">closing</span> <span class="n">shutter</span><span class="o">...</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">taking</span> <span class="n">dark</span> <span class="n">frame</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sst</span><span class="o">/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">test_xpdstack</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">bluesky</span><span class="o">/</span><span class="n">callbacks</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">332</span><span class="p">:</span> <span class="ne">UserWarning</span><span class="p">:</span> <span class="n">The</span> <span class="n">key</span> <span class="n">pe1_image</span> <span class="n">will</span> <span class="n">be</span> <span class="n">skipped</span> <span class="n">because</span> <span class="n">LiveTable</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">know</span> <span class="n">how</span> <span class="n">to</span> <span class="n">display</span> <span class="n">the</span> <span class="n">dtype</span> <span class="n">array</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;The key </span><span class="si">{}</span><span class="s2"> will be skipped because LiveTable &quot;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+-----------+------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>
<span class="o">+-----------+------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">33.8</span> <span class="o">|</span>
<span class="o">+-----------+------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;76be1c55&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>


<span class="n">dark</span> <span class="n">frame</span> <span class="n">complete</span><span class="p">,</span> <span class="n">update</span> <span class="n">dark</span> <span class="nb">dict</span>
<span class="n">opening</span> <span class="n">shutter</span><span class="o">...</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">34.6</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;aac0a589&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">35.4</span> <span class="o">|</span>      <span class="mf">1.000</span> <span class="o">|</span>           <span class="mf">1.000</span> <span class="o">|</span>      <span class="mf">0.100</span> <span class="o">|</span>           <span class="mf">0.100</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;da7b2dcd&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">3</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">36.2</span> <span class="o">|</span>      <span class="mf">2.000</span> <span class="o">|</span>           <span class="mf">2.000</span> <span class="o">|</span>      <span class="mf">0.200</span> <span class="o">|</span>           <span class="mf">0.200</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;5e4ac917&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">4</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">36.9</span> <span class="o">|</span>      <span class="mf">3.000</span> <span class="o">|</span>           <span class="mf">3.000</span> <span class="o">|</span>      <span class="mf">0.300</span> <span class="o">|</span>           <span class="mf">0.300</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;14fb7c85&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">5</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">37.6</span> <span class="o">|</span>      <span class="mf">4.000</span> <span class="o">|</span>           <span class="mf">4.000</span> <span class="o">|</span>      <span class="mf">0.400</span> <span class="o">|</span>           <span class="mf">0.400</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;fda5f4d8&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">6</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">38.4</span> <span class="o">|</span>      <span class="mf">5.000</span> <span class="o">|</span>           <span class="mf">5.000</span> <span class="o">|</span>      <span class="mf">0.500</span> <span class="o">|</span>           <span class="mf">0.500</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;b215aed6&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;76be1c55-5747-4937-8787-4389ec1458a8&#39;</span><span class="p">,</span>
 <span class="s1">&#39;aac0a589-6bc4-48db-a5c2-1c89f509a5bb&#39;</span><span class="p">,</span>
 <span class="s1">&#39;da7b2dcd-bb00-4936-8c80-3496587483e6&#39;</span><span class="p">,</span>
 <span class="s1">&#39;5e4ac917-8e74-4c7f-b515-752a6cb66d70&#39;</span><span class="p">,</span>
 <span class="s1">&#39;14fb7c85-310c-4e78-9ec2-517a9f2ed06a&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fda5f4d8-38b8-41e5-943a-dafeaf920090&#39;</span><span class="p">,</span>
 <span class="s1">&#39;b215aed6-3aed-49d8-9bd0-40143bd3a9ac&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>After this scan is finished, the dark subtracted images will be saved in
the <code class="docutils literal notranslate"><span class="pre">tiff_base</span></code> folder. Now, we need to use <code class="docutils literal notranslate"><span class="pre">pyFAI-calib2</span></code> to
calibrate the tiff images and save the resulting poni file in a folder.
Here, an example of the command is shown. It means “calibrate the
image.tiff where the wavelength is 0.1675 A, the detector is
perkin_elmer and the D-spacing of the calibrant is record in ‘Ni24.D
file’.”</p>
<p><code class="docutils literal notranslate"><span class="pre">pyFAI-calib2</span> <span class="pre">-w</span> <span class="pre">0.1675</span> <span class="pre">-D</span> <span class="pre">perkin_elmer</span> <span class="pre">-C</span> <span class="pre">./Ni24.D</span> <span class="pre">image.tiff</span></code></p>
<p>Here, in this tutorial, we save the results in the <code class="docutils literal notranslate"><span class="pre">poni_files</span></code>
folder. Below shows what files are inside this folder. The requirement
for the filename is that it can be sorted in the same order as the
diffraction is measured. For example, <code class="docutils literal notranslate"><span class="pre">calib_0.poni</span></code> is first file and
it is also the file generated from the calibration of the first image
from the scan.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>tree <span class="s2">&quot;/Users/sst/PycharmProjects/gheater/notebooks/poni_files&quot;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/Users/sst/PycharmProjects/gheater/notebooks/poni_files
├── calib_0.poni
├── calib_1.poni
├── calib_2.poni
├── calib_3.poni
├── calib_4.poni
├── calib_5.poni
└── calib_6.poni

0 directories, 7 files
</pre></div>
</div>
<p>Now, we can load the calibration results from files to the namespace
using <code class="docutils literal notranslate"><span class="pre">calib_map_gen</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">calib_map</span> <span class="o">=</span> <span class="n">calib_map_gen</span><span class="p">(</span><span class="s2">&quot;/Users/sst/PycharmProjects/gheater/notebooks/poni_files&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="o">--&gt;</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sst</span><span class="o">/</span><span class="n">PycharmProjects</span><span class="o">/</span><span class="n">gheater</span><span class="o">/</span><span class="n">notebooks</span><span class="o">/</span><span class="n">poni_files</span><span class="o">/</span><span class="n">calib_0</span><span class="o">.</span><span class="n">poni</span>
<span class="mi">1</span> <span class="o">--&gt;</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sst</span><span class="o">/</span><span class="n">PycharmProjects</span><span class="o">/</span><span class="n">gheater</span><span class="o">/</span><span class="n">notebooks</span><span class="o">/</span><span class="n">poni_files</span><span class="o">/</span><span class="n">calib_1</span><span class="o">.</span><span class="n">poni</span>
<span class="mi">2</span> <span class="o">--&gt;</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sst</span><span class="o">/</span><span class="n">PycharmProjects</span><span class="o">/</span><span class="n">gheater</span><span class="o">/</span><span class="n">notebooks</span><span class="o">/</span><span class="n">poni_files</span><span class="o">/</span><span class="n">calib_2</span><span class="o">.</span><span class="n">poni</span>
<span class="mi">3</span> <span class="o">--&gt;</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sst</span><span class="o">/</span><span class="n">PycharmProjects</span><span class="o">/</span><span class="n">gheater</span><span class="o">/</span><span class="n">notebooks</span><span class="o">/</span><span class="n">poni_files</span><span class="o">/</span><span class="n">calib_3</span><span class="o">.</span><span class="n">poni</span>
<span class="mi">4</span> <span class="o">--&gt;</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sst</span><span class="o">/</span><span class="n">PycharmProjects</span><span class="o">/</span><span class="n">gheater</span><span class="o">/</span><span class="n">notebooks</span><span class="o">/</span><span class="n">poni_files</span><span class="o">/</span><span class="n">calib_4</span><span class="o">.</span><span class="n">poni</span>
<span class="mi">5</span> <span class="o">--&gt;</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sst</span><span class="o">/</span><span class="n">PycharmProjects</span><span class="o">/</span><span class="n">gheater</span><span class="o">/</span><span class="n">notebooks</span><span class="o">/</span><span class="n">poni_files</span><span class="o">/</span><span class="n">calib_5</span><span class="o">.</span><span class="n">poni</span>
</pre></div>
</div>
</div>
<div class="section" id="start-the-measurement">
<h2>Start the measurement<a class="headerlink" href="#start-the-measurement" title="Permalink to this headline">¶</a></h2>
<p>Now, we can heat the gradient heater and wait for the equilibrium. Then,
we start the measurement plan using <code class="docutils literal notranslate"><span class="pre">gen_beautiful_plan</span></code>.</p>
<p>In this example, we start measurement by running a line scan. The
diffraction image on the detector <code class="docutils literal notranslate"><span class="pre">pe1c</span></code> will be collected in a line.
The <code class="docutils literal notranslate"><span class="pre">ns.motor1</span></code> will move from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">5</span></code> and the <code class="docutils literal notranslate"><span class="pre">ns.motor2</span></code>
will move from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">0.5</span></code>. In total, <code class="docutils literal notranslate"><span class="pre">6</span></code> evenly spaced points
(including the start and the end) will be collected and the exposure
time at each point is <code class="docutils literal notranslate"><span class="pre">5</span></code> second. The metadata we would like to record
is <code class="docutils literal notranslate"><span class="pre">{&quot;task&quot;:</span> <span class="pre">&quot;day</span> <span class="pre">time</span> <span class="pre">scan&quot;}</span></code> (optional). At each point <code class="docutils literal notranslate"><span class="pre">i</span></code>, the
calibration data from <code class="docutils literal notranslate"><span class="pre">calib_map[i]</span></code> will be used for the data
processing.</p>
<p>We run the line scan for <code class="docutils literal notranslate"><span class="pre">num_loop=2</span></code> times. Then, we will let the
heater <code class="docutils literal notranslate"><span class="pre">cs700</span></code> to cool the temperature down to <code class="docutils literal notranslate"><span class="pre">final_temp=300</span></code> and
wait there for the <code class="docutils literal notranslate"><span class="pre">sleep_time=5</span></code> seconds. Then, we conduct a final
line scan just like that in the beginning.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plan</span> <span class="o">=</span> <span class="n">gen_beautiful_plan</span><span class="p">([</span><span class="n">pe1c</span><span class="p">],</span> <span class="n">ns</span><span class="o">.</span><span class="n">motor1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">ns</span><span class="o">.</span><span class="n">motor2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">calib_map</span><span class="o">=</span><span class="n">calib_map</span><span class="p">,</span> <span class="n">exposure</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">num_loop</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">heater</span><span class="o">=</span><span class="n">cs700</span><span class="p">,</span> <span class="n">final_temp</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">sleep_time</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">md</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="s2">&quot;day time scan&quot;</span><span class="p">})</span>
<span class="n">xrun</span><span class="p">({},</span> <span class="n">plan</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span><span class="p">:</span> <span class="n">requested</span> <span class="n">exposure</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">-</span> <span class="o">&gt;</span> <span class="n">computed</span> <span class="n">exposure</span> <span class="n">time</span><span class="o">=</span> <span class="mf">5.0</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">24.6</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;d3c31d01&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">27</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">25.4</span> <span class="o">|</span>      <span class="mf">1.000</span> <span class="o">|</span>           <span class="mf">1.000</span> <span class="o">|</span>      <span class="mf">0.100</span> <span class="o">|</span>           <span class="mf">0.100</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;fccd113a&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">28</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">26.1</span> <span class="o">|</span>      <span class="mf">2.000</span> <span class="o">|</span>           <span class="mf">2.000</span> <span class="o">|</span>      <span class="mf">0.200</span> <span class="o">|</span>           <span class="mf">0.200</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;f7ad28cb&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">29</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">26.9</span> <span class="o">|</span>      <span class="mf">3.000</span> <span class="o">|</span>           <span class="mf">3.000</span> <span class="o">|</span>      <span class="mf">0.300</span> <span class="o">|</span>           <span class="mf">0.300</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;d793caea&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">30</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">27.7</span> <span class="o">|</span>      <span class="mf">4.000</span> <span class="o">|</span>           <span class="mf">4.000</span> <span class="o">|</span>      <span class="mf">0.400</span> <span class="o">|</span>           <span class="mf">0.400</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;5df9fa0f&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">31</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">28.5</span> <span class="o">|</span>      <span class="mf">5.000</span> <span class="o">|</span>           <span class="mf">5.000</span> <span class="o">|</span>      <span class="mf">0.500</span> <span class="o">|</span>           <span class="mf">0.500</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;e973d11b&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">32</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">29.2</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;462ff175&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">33</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">30.0</span> <span class="o">|</span>      <span class="mf">1.000</span> <span class="o">|</span>           <span class="mf">1.000</span> <span class="o">|</span>      <span class="mf">0.100</span> <span class="o">|</span>           <span class="mf">0.100</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;3d117a51&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">34</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">30.8</span> <span class="o">|</span>      <span class="mf">2.000</span> <span class="o">|</span>           <span class="mf">2.000</span> <span class="o">|</span>      <span class="mf">0.200</span> <span class="o">|</span>           <span class="mf">0.200</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;8cfc1bd4&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">35</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">31.6</span> <span class="o">|</span>      <span class="mf">3.000</span> <span class="o">|</span>           <span class="mf">3.000</span> <span class="o">|</span>      <span class="mf">0.300</span> <span class="o">|</span>           <span class="mf">0.300</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;3ba5cfe0&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">36</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">32.3</span> <span class="o">|</span>      <span class="mf">4.000</span> <span class="o">|</span>           <span class="mf">4.000</span> <span class="o">|</span>      <span class="mf">0.400</span> <span class="o">|</span>           <span class="mf">0.400</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;9895f1fd&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">37</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">33.1</span> <span class="o">|</span>      <span class="mf">5.000</span> <span class="o">|</span>           <span class="mf">5.000</span> <span class="o">|</span>      <span class="mf">0.500</span> <span class="o">|</span>           <span class="mf">0.500</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;03eebeea&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">38</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">33.9</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>      <span class="mf">0.000</span> <span class="o">|</span>           <span class="mf">0.000</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;b76a9a95&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">39</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">34.7</span> <span class="o">|</span>      <span class="mf">1.000</span> <span class="o">|</span>           <span class="mf">1.000</span> <span class="o">|</span>      <span class="mf">0.100</span> <span class="o">|</span>           <span class="mf">0.100</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;bf648a83&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">40</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">35.5</span> <span class="o">|</span>      <span class="mf">2.000</span> <span class="o">|</span>           <span class="mf">2.000</span> <span class="o">|</span>      <span class="mf">0.200</span> <span class="o">|</span>           <span class="mf">0.200</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;992e33a5&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">41</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">36.3</span> <span class="o">|</span>      <span class="mf">3.000</span> <span class="o">|</span>           <span class="mf">3.000</span> <span class="o">|</span>      <span class="mf">0.300</span> <span class="o">|</span>           <span class="mf">0.300</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;98fdc7d1&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">42</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">37.0</span> <span class="o">|</span>      <span class="mf">4.000</span> <span class="o">|</span>           <span class="mf">4.000</span> <span class="o">|</span>      <span class="mf">0.400</span> <span class="o">|</span>           <span class="mf">0.400</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;4f066e6d&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">43</span><span class="p">)</span>


<span class="n">INFO</span><span class="p">:</span> <span class="n">No</span> <span class="n">calibration</span> <span class="n">file</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">config_base</span><span class="o">.</span>
<span class="n">Scan</span> <span class="n">will</span> <span class="n">still</span> <span class="n">keep</span> <span class="n">going</span> <span class="n">on</span><span class="o">....</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Current</span> <span class="nb">filter</span> <span class="n">status</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt1</span> <span class="p">:</span> <span class="n">In</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt2</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt3</span> <span class="p">:</span> <span class="n">Out</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">flt4</span> <span class="p">:</span> <span class="n">Out</span>


<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>   <span class="n">seq_num</span> <span class="o">|</span>       <span class="n">time</span> <span class="o">|</span>     <span class="n">motor1</span> <span class="o">|</span> <span class="n">motor1_setpoint</span> <span class="o">|</span>     <span class="n">motor2</span> <span class="o">|</span> <span class="n">motor2_setpoint</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">16</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">37.8</span> <span class="o">|</span>      <span class="mf">5.000</span> <span class="o">|</span>           <span class="mf">5.000</span> <span class="o">|</span>      <span class="mf">0.500</span> <span class="o">|</span>           <span class="mf">0.500</span> <span class="o">|</span>
<span class="o">+-----------+------------+------------+-----------------+------------+-----------------+</span>
<span class="n">generator</span> <span class="n">count</span> <span class="p">[</span><span class="s1">&#39;3df41ca3&#39;</span><span class="p">]</span> <span class="p">(</span><span class="n">scan</span> <span class="n">num</span><span class="p">:</span> <span class="mi">44</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;d3c31d01-d844-4b38-b28d-37873770f924&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fccd113a-0500-42ca-82c6-67d355d763e4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;f7ad28cb-0384-4924-be6c-779974fbb54b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;d793caea-efdd-45c1-a9af-f42b663cb936&#39;</span><span class="p">,</span>
 <span class="s1">&#39;5df9fa0f-a466-4846-982a-f6c6d3d7a127&#39;</span><span class="p">,</span>
 <span class="s1">&#39;e973d11b-1951-4f1e-9e4d-a17b9d67ca1d&#39;</span><span class="p">,</span>
 <span class="s1">&#39;462ff175-884d-43b4-82be-b7159e976636&#39;</span><span class="p">,</span>
 <span class="s1">&#39;3d117a51-9b9b-46c8-9efb-38b833c378ac&#39;</span><span class="p">,</span>
 <span class="s1">&#39;8cfc1bd4-f98b-45d3-af0d-755900c3bbe1&#39;</span><span class="p">,</span>
 <span class="s1">&#39;3ba5cfe0-0388-4d55-a242-3d9c1f0e017f&#39;</span><span class="p">,</span>
 <span class="s1">&#39;9895f1fd-7560-479f-b9c9-ef0e38fcc8ad&#39;</span><span class="p">,</span>
 <span class="s1">&#39;03eebeea-e84a-48a8-8baa-1e59f6b865d5&#39;</span><span class="p">,</span>
 <span class="s1">&#39;b76a9a95-e36b-4067-b1aa-120f1b364c04&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bf648a83-b636-4df9-a3c3-68145cb8de2b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;992e33a5-27ae-4ed1-bff1-a53c7345403b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;98fdc7d1-610a-47d6-9866-ef5c30a52c1c&#39;</span><span class="p">,</span>
 <span class="s1">&#39;4f066e6d-8bef-436a-a49d-11d026dfd662&#39;</span><span class="p">,</span>
 <span class="s1">&#39;3df41ca3-3ad0-4067-bf2e-530da87bf530&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="trouble-shooting-save-server-doesnt-save-images">
<h2>Trouble shooting: Save server doesn’t save images<a class="headerlink" href="#trouble-shooting-save-server-doesnt-save-images" title="Permalink to this headline">¶</a></h2>
<p>If the save server cannot save images, we can still get them using the
helper function <code class="docutils literal notranslate"><span class="pre">process_and_save</span></code>. In the following examples, we save
the latest run (<code class="docutils literal notranslate"><span class="pre">-1</span></code>) in the database <code class="docutils literal notranslate"><span class="pre">db</span></code> in the file
<code class="docutils literal notranslate"><span class="pre">./my_image.tiff</span></code>. The data key of the image is <code class="docutils literal notranslate"><span class="pre">pe1_image</span></code>. Before
the data is saved, the dark subtraction is automatically done.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">process_and_save</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">tiff_path</span><span class="o">=</span><span class="s2">&quot;./my_image.tiff&quot;</span><span class="p">,</span> <span class="n">data_key</span><span class="o">=</span><span class="s2">&quot;pe1_image&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also use the uid to specify which run we would like to save.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">process_and_save</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s2">&quot;b215aed6-3aed-49d8-9bd0-40143bd3a9ac&quot;</span><span class="p">,</span> <span class="n">tiff_path</span><span class="o">=</span><span class="s2">&quot;./my_image.tiff&quot;</span><span class="p">,</span> <span class="n">data_key</span><span class="o">=</span><span class="s2">&quot;pe1_image&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="release-history.html" class="btn btn-neutral float-right" title="Release History" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Songsheng Tao.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>